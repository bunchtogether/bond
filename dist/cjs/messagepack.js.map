{"version":3,"sources":["../../src/messagepack.js"],"names":["Ping","timestamp","writePing","encoded","readPing","decoded","Class","type","write","read","Pong","wallclock","writePong","readPong","ObservedRemoveDump","queue","writeObservedRemoveDump","readObservedRemoveDump","PeerEvent","args","writePeerEvent","readPeerEvent","Close","code","message","writeClose","readClose"],"mappings":";;;;;;;AAEA;;;;;;;;IAIaA,I,6BACX,cAAYC,SAAZ,EAA8B;AAAA;;AAC5B,OAAKA,SAAL,GAAiBA,SAAjB;AACD,C;;;;AAIH,SAASC,SAAT,CAAmBC,OAAnB,EAAkC;AAChC,SAAOA,OAAO,CAACF,SAAf;AACD;;AAED,SAASG,QAAT,CAAkBC,OAAlB,EAAmC;AACjC,SAAO,IAAIL,IAAJ,CAASK,OAAT,CAAP;AACD;;AAED,4BAAa;AACXC,EAAAA,KAAK,EAAEN,IADI;AAEXO,EAAAA,IAAI,EAAE,IAFK;AAGXC,EAAAA,KAAK,EAAEN,SAHI;AAIXO,EAAAA,IAAI,EAAEL;AAJK,CAAb;;IAOaM,I,6BACX,cAAYT,SAAZ,EAA8BU,SAA9B,EAAgD;AAAA;;AAC9C,OAAKV,SAAL,GAAiBA,SAAjB;AACA,OAAKU,SAAL,GAAiBA,SAAjB;AACD,C;;;;AAKH,SAASC,SAAT,CAAmBT,OAAnB,EAAkC;AAChC,SAAO,CAACA,OAAO,CAACF,SAAT,EAAoBE,OAAO,CAACQ,SAA5B,CAAP;AACD;;AAED,SAASE,QAAT,CAAkBR,OAAlB,EAA4C;AAC1C,SAAO,IAAIK,IAAJ,CAASL,OAAO,CAAC,CAAD,CAAhB,EAAqBA,OAAO,CAAC,CAAD,CAA5B,CAAP;AACD;;AAED,4BAAa;AACXC,EAAAA,KAAK,EAAEI,IADI;AAEXH,EAAAA,IAAI,EAAE,IAFK;AAGXC,EAAAA,KAAK,EAAEI,SAHI;AAIXH,EAAAA,IAAI,EAAEI;AAJK,CAAb;;IAOaC,kB,6BACX,4BAAYC,KAAZ,EAAwC;AAAA;;AACtC,OAAKA,KAAL,GAAaA,KAAb;AACD,C;;;;AAIH,SAASC,uBAAT,CAAiCb,OAAjC,EAA8D;AAC5D,SAAOA,OAAO,CAACY,KAAf;AACD;;AAED,SAASE,sBAAT,CAAgCZ,OAAhC,EAA8D;AAC5D,SAAO,IAAIS,kBAAJ,CAAuBT,OAAvB,CAAP;AACD;;AAED,4BAAa;AACXC,EAAAA,KAAK,EAAEQ,kBADI;AAEXP,EAAAA,IAAI,EAAE,IAFK;AAGXC,EAAAA,KAAK,EAAEQ,uBAHI;AAIXP,EAAAA,IAAI,EAAEQ;AAJK,CAAb;;IAOaC,S,6BACX,mBAAYX,IAAZ,EAAyBY,IAAzB,EAA0C;AAAA;;AACxC,OAAKZ,IAAL,GAAYA,IAAZ;AACA,OAAKY,IAAL,GAAYA,IAAZ;AACD,C;;;;AAKH,SAASC,cAAT,CAAwBjB,OAAxB,EAA4C;AAC1C,SAAO,CAACA,OAAO,CAACI,IAAT,EAAeJ,OAAO,CAACgB,IAAvB,CAAP;AACD;;AAED,SAASE,aAAT,CAAuBhB,OAAvB,EAAqD;AACnD,SAAO,IAAIa,SAAJ,CAAcb,OAAO,CAAC,CAAD,CAArB,EAA0BA,OAAO,CAAC,CAAD,CAAjC,CAAP;AACD;;AAED,4BAAa;AACXC,EAAAA,KAAK,EAAEY,SADI;AAEXX,EAAAA,IAAI,EAAE,IAFK;AAGXC,EAAAA,KAAK,EAAEY,cAHI;AAIXX,EAAAA,IAAI,EAAEY;AAJK,CAAb;;IAOaC,K,6BACX,eAAYC,IAAZ,EAAyBC,OAAzB,EAAyC;AAAA;;AACvC,OAAKD,IAAL,GAAYA,IAAZ;AACA,OAAKC,OAAL,GAAeA,OAAf;AACD,C;;;;AAKH,SAASC,UAAT,CAAoBtB,OAApB,EAAoC;AAClC,SAAO,CAACA,OAAO,CAACoB,IAAT,EAAepB,OAAO,CAACqB,OAAvB,CAAP;AACD;;AAED,SAASE,SAAT,CAAmBrB,OAAnB,EAA6C;AAC3C,SAAO,IAAIiB,KAAJ,CAAUjB,OAAO,CAAC,CAAD,CAAjB,EAAsBA,OAAO,CAAC,CAAD,CAA7B,CAAP;AACD;;AAED,4BAAa;AACXC,EAAAA,KAAK,EAAEgB,KADI;AAEXf,EAAAA,IAAI,EAAE,IAFK;AAGXC,EAAAA,KAAK,EAAEiB,UAHI;AAIXhB,EAAAA,IAAI,EAAEiB;AAJK,CAAb","sourcesContent":["// @flow\n\nimport {\n  addExtension,\n} from 'msgpackr';\n\nexport class Ping {\n  constructor(timestamp:number) {\n    this.timestamp = timestamp;\n  }\n  declare timestamp: number;\n}\n\nfunction writePing(encoded: Ping) {\n  return encoded.timestamp;\n}\n\nfunction readPing(decoded: number) {\n  return new Ping(decoded);\n}\n\naddExtension({\n  Class: Ping,\n  type: 0x90,\n  write: writePing,\n  read: readPing,\n});\n\nexport class Pong {\n  constructor(timestamp:number, wallclock:number) {\n    this.timestamp = timestamp;\n    this.wallclock = wallclock;\n  }\n  declare timestamp: number;\n  declare wallclock: number;\n}\n\nfunction writePong(encoded: Pong) {\n  return [encoded.timestamp, encoded.wallclock];\n}\n\nfunction readPong(decoded:[number, number]) {\n  return new Pong(decoded[0], decoded[1]);\n}\n\naddExtension({\n  Class: Pong,\n  type: 0x91,\n  write: writePong,\n  read: readPong,\n});\n\nexport class ObservedRemoveDump {\n  constructor(queue:[Array<*>, Array<*>]) {\n    this.queue = queue;\n  }\n  declare queue:[Array<*>, Array<*>];\n}\n\nfunction writeObservedRemoveDump(encoded: ObservedRemoveDump) {\n  return encoded.queue;\n}\n\nfunction readObservedRemoveDump(decoded:[Array<*>, Array<*>]) {\n  return new ObservedRemoveDump(decoded);\n}\n\naddExtension({\n  Class: ObservedRemoveDump,\n  type: 0x92,\n  write: writeObservedRemoveDump,\n  read: readObservedRemoveDump,\n});\n\nexport class PeerEvent {\n  constructor(type:string, args:Array<any>) {\n    this.type = type;\n    this.args = args;\n  }\n  declare type:string;\n  declare args: Array<any>;\n}\n\nfunction writePeerEvent(encoded: PeerEvent) {\n  return [encoded.type, encoded.args];\n}\n\nfunction readPeerEvent(decoded:[string, Array<any>]) {\n  return new PeerEvent(decoded[0], decoded[1]);\n}\n\naddExtension({\n  Class: PeerEvent,\n  type: 0x93,\n  write: writePeerEvent,\n  read: readPeerEvent,\n});\n\nexport class Close {\n  constructor(code:number, message:string) {\n    this.code = code;\n    this.message = message;\n  }\n  declare code: number;\n  declare message: string;\n}\n\nfunction writeClose(encoded: Close) {\n  return [encoded.code, encoded.message];\n}\n\nfunction readClose(decoded:[number, string]) {\n  return new Close(decoded[0], decoded[1]);\n}\n\naddExtension({\n  Class: Close,\n  type: 0x94,\n  write: writeClose,\n  read: readClose,\n});\n"],"file":"messagepack.js"}