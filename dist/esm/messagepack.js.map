{"version":3,"sources":["../../src/messagepack.js"],"names":["addExtension","Ping","constructor","timestamp","writePing","encoded","readPing","decoded","Class","type","write","read","Pong","wallclock","writePong","readPong","ObservedRemoveDump","queue","writeObservedRemoveDump","readObservedRemoveDump"],"mappings":"AAEA,SACEA,YADF,QAEO,UAFP;AAIA,OAAO,MAAMC,IAAN,CAAW;AAChBC,EAAAA,WAAW,CAACC,SAAD,EAAmB;AAC5B,SAAKA,SAAL,GAAiBA,SAAjB;AACD;;AAHe;;AAOlB,SAASC,SAAT,CAAmBC,OAAnB,EAAkC;AAChC,SAAOA,OAAO,CAACF,SAAf;AACD;;AAED,SAASG,QAAT,CAAkBC,OAAlB,EAAmC;AACjC,SAAO,IAAIN,IAAJ,CAASM,OAAT,CAAP;AACD;;AAEDP,YAAY,CAAC;AACXQ,EAAAA,KAAK,EAAEP,IADI;AAEXQ,EAAAA,IAAI,EAAE,GAFK;AAGXC,EAAAA,KAAK,EAAEN,SAHI;AAIXO,EAAAA,IAAI,EAAEL;AAJK,CAAD,CAAZ;AAOA,OAAO,MAAMM,IAAN,CAAW;AAChBV,EAAAA,WAAW,CAACC,SAAD,EAAmBU,SAAnB,EAAqC;AAC9C,SAAKV,SAAL,GAAiBA,SAAjB;AACA,SAAKU,SAAL,GAAiBA,SAAjB;AACD;;AAJe;;AASlB,SAASC,SAAT,CAAmBT,OAAnB,EAAkC;AAChC,SAAO,CAACA,OAAO,CAACF,SAAT,EAAoBE,OAAO,CAACQ,SAA5B,CAAP;AACD;;AAED,SAASE,QAAT,CAAkBR,OAAlB,EAA4C;AAC1C,SAAO,IAAIK,IAAJ,CAASL,OAAO,CAAC,CAAD,CAAhB,EAAqBA,OAAO,CAAC,CAAD,CAA5B,CAAP;AACD;;AAEDP,YAAY,CAAC;AACXQ,EAAAA,KAAK,EAAEI,IADI;AAEXH,EAAAA,IAAI,EAAE,GAFK;AAGXC,EAAAA,KAAK,EAAEI,SAHI;AAIXH,EAAAA,IAAI,EAAEI;AAJK,CAAD,CAAZ;AAOA,OAAO,MAAMC,kBAAN,CAAyB;AAC9Bd,EAAAA,WAAW,CAACe,KAAD,EAA6B;AACtC,SAAKA,KAAL,GAAaA,KAAb;AACD;;AAH6B;;AAOhC,SAASC,uBAAT,CAAiCb,OAAjC,EAA8D;AAC5D,SAAOA,OAAO,CAACY,KAAf;AACD;;AAED,SAASE,sBAAT,CAAgCZ,OAAhC,EAA8D;AAC5D,SAAO,IAAIS,kBAAJ,CAAuBT,OAAvB,CAAP;AACD;;AAEDP,YAAY,CAAC;AACXQ,EAAAA,KAAK,EAAEQ,kBADI;AAEXP,EAAAA,IAAI,EAAE,GAFK;AAGXC,EAAAA,KAAK,EAAEQ,uBAHI;AAIXP,EAAAA,IAAI,EAAEQ;AAJK,CAAD,CAAZ","sourcesContent":["// @flow\n\nimport {\n  addExtension,\n} from 'msgpackr';\n\nexport class Ping {\n  constructor(timestamp:number) {\n    this.timestamp = timestamp;\n  }\n  declare timestamp: number;\n}\n\nfunction writePing(encoded: Ping) {\n  return encoded.timestamp;\n}\n\nfunction readPing(decoded: number) {\n  return new Ping(decoded);\n}\n\naddExtension({\n  Class: Ping,\n  type: 0x1,\n  write: writePing,\n  read: readPing,\n});\n\nexport class Pong {\n  constructor(timestamp:number, wallclock:number) {\n    this.timestamp = timestamp;\n    this.wallclock = wallclock;\n  }\n  declare timestamp: number;\n  declare wallclock: number;\n}\n\nfunction writePong(encoded: Pong) {\n  return [encoded.timestamp, encoded.wallclock];\n}\n\nfunction readPong(decoded:[number, number]) {\n  return new Pong(decoded[0], decoded[1]);\n}\n\naddExtension({\n  Class: Pong,\n  type: 0x2,\n  write: writePong,\n  read: readPong,\n});\n\nexport class ObservedRemoveDump {\n  constructor(queue:[Array<*>, Array<*>]) {\n    this.queue = queue;\n  }\n  declare queue:[Array<*>, Array<*>];\n}\n\nfunction writeObservedRemoveDump(encoded: ObservedRemoveDump) {\n  return encoded.queue;\n}\n\nfunction readObservedRemoveDump(decoded:[Array<*>, Array<*>]) {\n  return new ObservedRemoveDump(decoded);\n}\n\naddExtension({\n  Class: ObservedRemoveDump,\n  type: 0x3,\n  write: writeObservedRemoveDump,\n  read: readObservedRemoveDump,\n});\n"],"file":"messagepack.js"}